 # 2018-07-18 日报

 > Nuxt实现服务端渲染

 ---

 ## 事宜
 - [x] 使用Nuxt同构之前的vue专题页


 ## 问题及解决
 - 本打算根据vue ssr教程使用vue-server-render+webpack+express实现服务端渲染项目的集成和构建配置，但最后还是无法驾驭，最后使用一个基于vue生态的更高层的框架Nuxt.js实现专题页的服务端渲染同构。
 - Nuxt的static目录问题
    - 需要使用`~/static/`访问目录下文件
    - 动态加载的图片文件路径直接使用`/`访问，nuxt会指向`/static`下的相应图片
 - nuxt根据pages下的文件目录自动生成路由
 - 注意我们需要为**每个**请求创建一个新的根 Vue 实例(router,store同理)。这与每个用户在自己的浏览器中使用新应用程序的实例类似。如果我们在多个请求之间使用一个共享的实例，很容易导致交叉请求状态污染。因此，我们不应该直接创建*一个*应用程序实例，而是应该暴露一个可以重复执行的工厂函数，为每个请求创建新的应用程序实例。