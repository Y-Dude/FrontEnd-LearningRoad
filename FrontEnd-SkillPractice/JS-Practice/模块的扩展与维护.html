<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>模块的扩展与维护</title>
</head>

<body>


    <script>
        // calc.js
        // 计算模块
        var calculator = (function () {
            // 这里形成一个单独的私有的空间
            // var name = '';

            // 私有成员的作用，
            // 将一个成员私有化，
            // 抽象公共方法（其他成员中都会用到的）

            // 私有的转换逻辑
            function convert(input) {
                return parseInt(input);
            }

            function add(a, b) {
                return convert(a) + convert(b);
            }

            function subtract(a, b) {
                return convert(a) - convert(b);
            }

            function multiply(a, b) {
                return convert(a) * convert(b);
            }

            function divide(a, b) {
                return convert(a) / convert(b);
            }

            return {
                add: add,
                subtract: subtract,
                multiply: multiply,
                divide: divide
            }
        })();







        // calculate_v1.0.js
        (function (calculate) {

            //私有函数
            var float = function (input) {
                return parseFloat(input)
            }
            calculate.add = function (a, b) {
                return float(a) + float(b);
            }
            calculate.subtraction = function (a, b) {
                return float(a) - float(b);
            }
            calculate.multiple = function (a, b) {
                return float(a) * float(b);
            }
            calculate.division = function (a, b) {
                return float(a) / float(b);
            }
        })(window.calculate || {});


        //新增需求  取余
        // calculate_v2.0.js
        (function (calculate) {

            var float = function (input) {
                return parseFloat(input)
            }


            calculate.remain = function () {
                return float(a) % float(b);
            }
        })(window.calculate || {});
        //开闭原则  对新增开放  对修改关闭



        //在被压缩的代码中经常会看到   !fucntion(){}();    相当于(function(){})();  
        // !  + 之类的运算符作用和()一样只是为了把function当做表达式  
    </script>
</body>

</html>