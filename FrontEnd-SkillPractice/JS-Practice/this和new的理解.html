<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>this和new的理解</title>
</head>

<body>
    <script>
        // 概念理解
        // this是一个特殊的与Execution Contexts相关的对象,
        // 用于指明当前代码执行时的Execution Contexts，
        // this在语句执行进入一个Execution Contexts时被赋值，且在代码执行过程中不可再改变。
        // 注：Execution Contexts也就是我们常听到的"上下文"或"执行环境"。

        // this的一般指向规则
        // 规则1——作为函数调用时，this指向全局对象
        // 规则2——作为方法调用时，this指向上下文对象
        // 规则3——作为构造函数使用时,this指向生成的实例
        // 规则4——使用call/apply/bind方法显式指定this
        function fun() {    // this 指向的是 函数的调用者 或者是 事件的调用者
            alert(this);
        }
        fun();   //   这个的this 指向的是 window

        function fn() {
            alert(this);
        }
        new fn();  // 添加了  new 的函数 this 指向的是 新的对象

        //new 运算符的作用是创建一个对象实例。这个对象可以使用户自定义的也可以是带构造函数的一些系统自带的对象。
        //new 关键字可以让 this 指向新的对象

        function again() {
            this.x = 10;  //  x  window
        }
        again();
        console.log(window.x);
        function person() {
            this.x = 20;
        }
        var demo = new person();
        var demo1 = new person();
        //  实例 对象   吃的苹果     类
        console.log(demo.x);
    </script>
</body>

</html>